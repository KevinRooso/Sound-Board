<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Sound Board</title>
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
	<header>
		<h1>Sound Board</h1>
	</header>
	<section class="keys">
		<div data-key="81" class="key">
			<kbd>Q</kbd>
			<p class="sound">Fart</p>
		</div>
		<div data-key="87" class="key">
			<kbd>W</kbd>
			<p class="sound">Punch</p>
		</div>
		<div data-key="69" class="key">
			<kbd>E</kbd>
			<p class="sound">Slip</p>
		</div>
		<div data-key="82" class="key">
			<kbd>R</kbd>
			<p class="sound">Nope</p>
		</div>
		<div data-key="65" class="key">
			<kbd>A</kbd>
			<p class="sound">Denied</p>
		</div>
		<div data-key="83" class="key">
			<kbd>S</kbd>
			<p class="sound">Ding</p>
		</div>
		<div data-key="68" class="key">
			<kbd>D</kbd>
			<p class="sound">Splat</p>
		</div>
		<div data-key="70" class="key">
			<kbd>F</kbd>
			<p class="sound">Swoosh</p>
		</div>
	</section>

	<audio data-key="65" src="sounds/Denied.mp3"></audio>
	<audio data-key="83" src="sounds/Ding.mp3"></audio>
	<audio data-key="68" src="sounds/Splat.mp3"></audio>
	<audio data-key="70" src="sounds/Swoosh.mp3"></audio>
	<audio data-key="81" src="sounds/Fart.mp3"></audio>
	<audio data-key="87" src="sounds/Punch.mp3"></audio>
	<audio data-key="69" src="sounds/Slip.mp3"></audio>
	<audio data-key="82" src="sounds/Nope.mp3"></audio>
</body>
<script>
	function playSound(e){
	const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
	const key = document.querySelector(`.key[data-key="${e.keyCode}"]`);
	console.log(audio);
	if(!audio) return;
	audio.currentTime = 0;
	audio.play();
	key.classList.add('playing');
    }
    function removeTransition(e){
    	if(e.propertyName !== 'transform') return;
    	this.classList.remove("playing");
    }
    const keys = document.querySelectorAll('.key');
    keys.forEach(key => key.addEventListener('transitionend',removeTransition));
    window.addEventListener('keydown',playSound);
</script>
</html>